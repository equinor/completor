"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[11],{8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>l});var t=i(6540);const r={},o=t.createContext(r);function s(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(o.Provider,{value:n},e.children)}},9569:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"icvc/keywords","title":"ICV Control Case File","description":"Case File ICV Control","source":"@site/docs/icvc/keywords.mdx","sourceDirName":"icvc","slug":"/icvc/keywords","permalink":"/completor/icvc/keywords","draft":false,"unlisted":false,"editUrl":"https://github.com/equinor/completor/tree/main/documentation/docs/icvc/keywords.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"ICV Control Case File","sidebar_position":3,"description":"Case File ICV Control"},"sidebar":"docs","previous":{"title":"ICV Control Configuration","permalink":"/completor/icvc/configuration"},"next":{"title":"ICV Control Template","permalink":"/completor/icvc/examples"}}');var r=i(4848),o=i(8453);const s={title:"ICV Control Case File",sidebar_position:3,description:"Case File ICV Control"},l="Case File Configuration",a={},c=[{value:"Keywords",id:"keywords",level:2},{value:"ICVCONTROL",id:"icvcontrol",level:3},{value:"ICVTABLE",id:"icvtable",level:3},{value:"CONTROL_CRITERIA",id:"control_criteria",level:3},{value:"UDQ Initialization",id:"udq-initialization",level:4},{value:"Parameter target",id:"parameter-target",level:4},{value:"ICV Operation (mandatory)",id:"icv-operation-mandatory",level:4}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"case-file-configuration",children:"Case File Configuration"})}),"\n",(0,r.jsx)(n.p,{children:"ICV Control extends Completor keywords to be longer. In case of running both Completor and ICV Control,\nthe user will just merge both case file into one single case, or running Completor twice."}),"\n",(0,r.jsx)(n.h2,{id:"keywords",children:"Keywords"}),"\n",(0,r.jsx)(n.p,{children:"This keyword initiates the use of ICV Control. If any of the mandatory keyword is missing, ICV Control will not run."}),"\n",(0,r.jsx)(n.h3,{id:"icvcontrol",children:"ICVCONTROL"}),"\n",(0,r.jsx)(n.p,{children:"This keyword is mandatory and initializes ICV Control script."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Well: Well name (must be identical to the well name specified\nin the Eclipse file and COMPLETION keyword)."}),"\n",(0,r.jsx)(n.li,{children:"ICV Name: Ensure identical ICV name, maximum 2 characters\n(number or letter)."}),"\n",(0,r.jsxs)(n.li,{children:["ICV Segment number: Segment number corresponds to specific ICV from\nWSEGVALV keyword. This will be updated accordingly while running ",(0,r.jsx)(n.code,{children:"WSEGICV"})," keyword from Completor\xae for the associated wells."]}),"\n",(0,r.jsx)(n.li,{children:"ICV Table: ICV Control requires a flow trim table for specified ICV to be\ninputted as ICVTABLE in following keywords. It will corresponds on different\nICV opening (integer from 1-max number)."}),"\n",(0,r.jsx)(n.li,{children:"STEPS: Number of steps that ICV Control will take to evaluate the criteria.\nIt means if the ICV Control has been operated for more than this steps,\nit will stop evaluating of the control criteria, and set to be constant\nuntil the rest of simulation period. It is recommended to set this as 50,\nas increasing this number will consume lots of memory in simulation run."}),"\n",(0,r.jsx)(n.li,{children:"ICVDATE: Start of ICV Operation. Accepted format will be: DD.MMM.YYYY (example: 1.JUL.2023)"}),"\n",(0,r.jsx)(n.li,{children:"FREQ: Number of days after which ICV will be operated again after completing the sequence of WAIT - READY - OPERATE - STOP."}),"\n",(0,r.jsx)(n.li,{children:"MIN: Minimum ICV position. It is connected to the ICVTABLE keyword in column number 4."}),"\n",(0,r.jsx)(n.li,{children:"MAX: Maximum ICV position. It is connected to the ICVTABLE keyword in column number 4."}),"\n",(0,r.jsx)(n.li,{children:"OPENING: Initial ICV position. It is connected to the ICVTABLE keyword in column number 4."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"End the record with /"}),"\n",(0,r.jsx)(n.p,{children:"Example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"ICVCONTROL\n--  WELL     ICV   SEGM      ICVTABL   STEPS   ICVDATE      FREQ    MIN   MAX    OPENING\n   A1      \tA1       1        A        50      2.JAN.2020   30      1     10     T10\n   A2      \tA2       1        A        50      2.JAN.2020   30      1     10     T10\n   A3      \tA3       1        A        50      2.JAN.2020   30      1     10     T10\n   A4      \tA4       1        A        50      2.JAN.2020   30      1     10     T10\n   OP5     \tO1       1        A        50      2.JAN.2020   30      1     10     T10\n   OP5     \tO2       1        A        50      2.JAN.2020   30      1     10     T10\n/\n"})}),"\n",(0,r.jsx)(n.h3,{id:"icvtable",children:"ICVTABLE"}),"\n",(0,r.jsx)(n.p,{children:"This initiates the ICV Flowtrim table:\nLine 1: Table name. String/integer character that matches with item number 4\nin ICVCONTROL keyword. Ended with /"}),"\n",(0,r.jsx)(n.p,{children:"Next following lines are:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"ICV Position Number"}),"\n",(0,r.jsx)(n.li,{children:"Discharge area of ICV (Currently fixed into 1 due to Eclipse limitation)"}),"\n",(0,r.jsx)(n.li,{children:"Valve cross section area."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"End record by /"}),"\n",(0,r.jsx)(n.p,{children:"Example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"ICVTABLE\nA / -- corresponds to ICVCONTROL keyword number 4\n-- POS CD AREA\n1\t    1\t    1.02374E-05\n2\t    1\t    2.84372E-05\n3\t    1\t    4.73954E-05\n4\t    1\t    7.89923E-05\n5\t    1\t    0.0001316\n6\t    1\t    0.0003657\n7\t    1\t    0.0006095\n8\t    1\t    0.001693\n9\t    1\t    0.002821\n10\t    1\t    0.004703\n/\n"})}),"\n",(0,r.jsx)(n.h3,{id:"control_criteria",children:"CONTROL_CRITERIA"}),"\n",(0,r.jsxs)(n.p,{children:["This keyword is the heart of ICV Control. As the ",(0,r.jsx)(n.code,{children:"ICVCONTROL"})," keyword initializes,\nthis keyword will fill in the trigger definition, value, and the criteria for The\nICV to respond on operation. There are three combination on the required fill of\nthis keyword."]}),"\n",(0,r.jsxs)(n.p,{children:["ICV Control uses logic of dictionary, where the ICV defined as a list\nof ICVs with bracket as [ICV1][ICV2]...[ICVn]. This can be set also as a combination\nfor example [ICV1,ICV2][ICV3,ICV4]...[ICVn,ICVo]. The ICV Control script will\ntranslate this variable naming with a subset of ",(0,r.jsx)(n.code,{children:"_x0"}),", ",(0,r.jsx)(n.code,{children:"_x1"})," depending on the\nlength of ICV inside bracket. Therefore if the length is 2, it is expected that\nthe ",(0,r.jsx)(n.code,{children:"CONTROL_CRITERIA"})," will have two subscript at least starting from ",(0,r.jsx)(n.code,{children:"_x0"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"udq-initialization",children:"UDQ Initialization"}),"\n",(0,r.jsx)(n.p,{children:"This will pre-define the parameterization of the trigger using UDQ keywords."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"First line: FUNCTION:"}),"\n",(0,r.jsx)(n.p,{children:"These combination are accepted as FUNCTION: [UDQ]"}),"\n",(0,r.jsx)(n.p,{children:"Defining the UDQ functions that are used in the CRITERIUM"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Second line: ICV:"}),"\n",(0,r.jsx)(n.p,{children:"ICV names that are wanted to be triggered by this CONTROL_CRITERIA\nunder this CRITERIUM. Accepted names are the one listed in ICVCONTROL\ntable item number 2."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Third line and so on:\nCriteria writing as in UDQ definition in the Eclipse language."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"End the record with /"}),"\n",(0,r.jsxs)(n.p,{children:["Example:\nHere is an example of the subscript logic of ICV Control, where the ICV is only\none in each bracket, therefore expected to have ",(0,r.jsx)(n.code,{children:"_x0"})," in the third line and so on."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"CONTROL_CRITERIA\n FUNCTION: [UDQ]\n ICV: [O1][O2]\n DEFINE FUWCT_x0 SWCT WELL(x0) SEG(x0) / WWCT WELL(x0)  /  --branch water cut control\n/\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Different example as follows:\nThis is an example of hard coded variable that will define the operation on\nICV O1 and O2. The difference is that this ICV O1 and O2 will respond only to\nWELL_A segment number 25 of its water-cut. While the previous example, it will\nrespond to what ICV O1 and O2 associated well and segment based on table ",(0,r.jsx)(n.code,{children:"ICVCONTROL"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"CONTROL_CRITERIA\n FUNCTION: [UDQ]\n ICV: [O1][O2]\n DEFINE FUWCT_A SWCT WELL_A 25  /  -- water cut control\n/\n"})}),"\n",(0,r.jsx)(n.h4,{id:"parameter-target",children:"Parameter target"}),"\n",(0,r.jsx)(n.p,{children:"The target parameter is usually defining what is target of the defined parameter\nin previous sub-section, and when it is stop to operate (either chokes or opens)."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"First line: FUNCTION:"}),"\n",(0,r.jsx)(n.p,{children:"These combination are accepted as FUNCTION: [UDQ]"}),"\n",(0,r.jsx)(n.p,{children:"Defining the UDQ functions that are used in the CRITERIUM"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Second line and so on:\nCriteria writing as in UDQ definition in the Eclipse language."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"End the record with /"}),"\n",(0,r.jsx)(n.p,{children:"The difference is there is no ICV definition, which sets this as a universal target\nfor all ICVs. It can be added ICVs, but based on experience, it will add degree of\ncomplexity without added value."}),"\n",(0,r.jsx)(n.p,{children:"Example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"CONTROL_CRITERIA\n FUNCTION: [UDQ]\n ASSIGN FUTOL 0.05 /\n ASSIGN FUWCTBRN 1 /\n ASSIGN FUWCTWEL 1.5 /\n DEFINE FUWELMIN FUWCTWEL - FUTOL /\n DEFINE FUWELMAX FUWCTWEL + FUTOL /\n DEFINE FUBRNMIN FUWCTBRN - FUTOL /\n DEFINE FUBRNMAX FUWCTBRN + FUTOL /\n/\n"})}),"\n",(0,r.jsx)(n.h4,{id:"icv-operation-mandatory",children:"ICV Operation (mandatory)"}),"\n",(0,r.jsx)(n.p,{children:"This is the sub-section where the logic of operation goes in. It is constructed\nas ACTIONX keyword type."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"First line: FUNCTION:\nThese combinations are accepted as FUNCTION: [function type]"}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"[OPEN, OPEN_WAIT, OPEN_READY] This function triggers ICVs to be opened."}),"\n",(0,r.jsx)(n.li,{children:"[OPEN_STOP, OPEN_WAIT_STOP] This function triggers to stop opening process of ICVs."}),"\n",(0,r.jsx)(n.li,{children:"[CHOKE, CHOKE_WAIT, CHOKE_READY] This function triggers ICVs to be choked."}),"\n",(0,r.jsx)(n.li,{children:"[CHOKE_STOP, CHOKE_WAIT_STOP] This function triggers to stop choking process of ICVs."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The first four are functions to define ACTIONX criteria. These functions need to be related to each other and designed in a manner that they will not conflict with each other (open criteria should not be similar to stop choke, and choke criteria should not trigger stop open). STOP functions have the purpose of stopping the continuous trial of opening/closing of ICVs.\nUDQ functions are custom criteria that you can put as the criteria in these OPEN, CHOKE, and STOPS.\n2. Second line: CRITERIUM:"}),"\n",(0,r.jsxs)(n.p,{children:["Accepted are integer numbers for sets of criterium CRITERIUM: ",(0,r.jsx)(n.code,{children:"integer"}),"\n3. Third line: ICV:"]}),"\n",(0,r.jsx)(n.p,{children:"ICV names that are wanted to be triggered by this CONTROL_CRITERIA under this CRITERIUM.\nAccepted names are the ones listed in ICVCONTROL item number 2.\n4. Fourth line and so on:"}),"\n",(0,r.jsx)(n.p,{children:"Criteria writing as in UDQ and ACTIONX language of Eclipse"}),"\n",(0,r.jsx)(n.p,{children:"End the record with /"}),"\n",(0,r.jsx)(n.p,{children:"Example:\nThis is an example where each ICVs O1 and O2 are behaving dependent\non the value of FUWCTBRN. The logic implemented are: If the value of FUWCT\nin each ICV _x0 is less than FUWCTBRN and the ICV position in FUPOS_x0 is\nless than 10 (maximum position), it will trigger to open. On the contrary,\nif the value is more than FUWCTBRN and the ICV position FUPOS_x0 is more\nthan 1 (minimum position), it will trigger to close. A STOP function is always\nthere associated to each OPEN and CLOSE function to prevent over reacting\non the ACTIONX keywords, it puts as a tolerance band in predefined UDQ\nFUBRNMIN and FUBRNMAX defined in previous constant section."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"-------------------WATERCUT BRANCH CONTROL------------------------\nCONTROL_CRITERIA\n FUNCTION: [OPEN, OPEN_WAIT, OPEN_READY]\n CRITERIUM: 1\n ICV: [O1][O2]\n FUWCT_x0 < FUWCTBRN AND /\n FUPOS_x0 < 10 /\n/\nCONTROL_CRITERIA\n FUNCTION: [OPEN_STOP, OPEN_WAIT_STOP]\n CRITERIUM: 1\n ICV: [O1][O2]\n FUWCT_x0 > FUBRNMIN\n/\nCONTROL_CRITERIA\n FUNCTION: [CHOKE, CHOKE_WAIT, CHOKE_READY]\n CRITERIUM: 1\n ICV: [O1][O2]\n FUWCT_x0 > FUWCTBRN AND /\n FUPOS_x0 > 1 /\n/\nCONTROL_CRITERIA\n FUNCTION: [CHOKE_STOP, CHOKE_WAIT_STOP]\n CRITERIUM: 1\n ICV: [O1][O2]\n FUWCT_x0 < FUBRNMAX\n/\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);